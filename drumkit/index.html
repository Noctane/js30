<!doctype html>
<html>
<head>
	<meta charset="UTF-8">
	<title>DrumKit</title>
	<link rel="stylesheet" href="style.css">
</head>
<body>

	
	<div class="keys">
		<div class="key" data-key="81">Q</div>
		<div class="key" data-key="83">S</div>
		<div class="key" data-key="68">D</div>
		<div class="key" data-key="70">F</div>
		<div class="key" data-key="71">G</div>
		<div class="key" data-key="72">H</div>
		<div class="key" data-key="74">J</div>
		<div class="key" data-key="75">K</div>
	</div>

	<audio src="sounds/clap.wav" data-key="81"></audio>
	<audio src="sounds/claves.wav" data-key="83"></audio>
	<audio src="sounds/kick.wav" data-key="68"></audio>
	<audio src="sounds/hihat.wav" data-key="70"></audio>
	<audio src="sounds/ride.wav" data-key="71"></audio>
	<audio src="sounds/tom.wav" data-key="72"></audio>
	<audio src="sounds/cymbal.wav" data-key="74"></audio>
	<audio src="sounds/snare.wav" data-key="75"></audio>

<script>
	

function playSound(e) {
	const audio = document.querySelector(`audio[data-key="${e.keyCode}"]`);
	const key = document.querySelector(`.key[data-key="${e.keyCode}"]`);
	if (!audio) return; // stop the function from running all together 

	audio.currentTime = 0; // rewind to the start
	audio.play();
	key.classList.add('pressed');
}

function removeTransition(e) {
	if (e.propertyName !== 'transform') return; 
	e.target.classList.remove('pressed');
}

const keys = Array.from(document.querySelectorAll('.key'));
keys.forEach(key => key.addEventListener('transitionend', removeTransition));

window.addEventListener('keydown', playSound);


</script>

</body>
</html>


